<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="robot_ip" default="192.168.1.12" />
    <arg name="gripper" default="robotiq_2f_85" />
    <arg name="rviz_config_file" default="$(find kinova_apps/config/default.rviz" />

    <!-- robot driver bringup -->
    <include file="$(find kortex_bringup)/launch/gen3.launch.py">
        <arg name="robot_ip" value="$(arg robot_ip)" />
        <arg name="gripper" value="$(arg gripper)" />
    </include>

    <!-- kinova vision -->
    <include file="$(find kinova_vision)/launch/kinova_vision.launch.py">
        <arg name="device" value="$(arg robot_ip)" />
        <arg name="depth_registration" value="true" />
        <arg name="color_camera_info_url" value="package://kinova_vision/launch/calibration/default_color_calib_640x480.ini" />
        <arg name="depth_camera_info_url" value="package://kinova_vision/launch/calibration/default_depth_calib_480x270.ini" />
    </include>

    <!-- moveit2 -->
    <include file="$(find kinova_gen3_7dof_robotiq_2f_85_moveit_config)/launch/robot.launch.py">
        <arg name="robot_ip" value="$(arg robot_ip)" />
    </include>

    <!-- rviz2 -->
    <node pkg="rviz2" exec="rviz2" name="rviz2" output="screen">
        <param name="use_sim_time" value="false" />
        <param name="config_file" value="$(arg rviz_config_file)" />
    </node>

</launch>
